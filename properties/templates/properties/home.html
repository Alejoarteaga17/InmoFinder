{% extends "properties/base.html" %}
{% load static %}

{% block title %}Home Â· InmoFinder{% endblock %}

{% block styles %}
<link rel="stylesheet" href="{% static 'css/main.css' %}">
{% endblock %}

{% block content %}
<section class="container hero">
  <div class="row align-items-start">
    <!-- Lado izquierdo -->
    <div class="col-lg-6">
      <h1 class="display-5 mb-0 text-ink alineado-filtros">
        Smart real estate platform for buyers, sellers, and agents.
      </h1>

      <p class="lead space-h1-lead text-muted-1 alineado-filtros">
        Find, publish, and manage properties with ease. Our platform connects buyers, renters,
        and real estate professionals through verified listings, smart search filters,
        and secure communication tools.
      </p>

      <!-- Chips ubicaciones -->
      <div class="d-flex flex-wrap chips space-search-chips justify-content-start alineado-filtros top-10">
        <a href="{% url 'buscar_propiedades' %}?search=Poblado" class="chip"><i class="bi bi-geo-alt"></i> Poblado</a>
        <a href="{% url 'buscar_propiedades' %}?search=Calasanz" class="chip"><i class="bi bi-geo-alt"></i> Calasanz</a>
        <a href="{% url 'buscar_propiedades' %}?search=Laureles" class="chip"><i class="bi bi-geo-alt"></i> Laureles</a>
      
      </div>
    </div>

    <!-- Lado derecho -->
    <div class="col-lg-6 text-center mt-5 mt-lg-0 hero-img-container">
      <img src="{% static 'images/building.jpg' %}" alt="Medellin Buildings" class="img-fluid shadow hero-img">
    </div>
    {% include "properties/partials/buscador.html" %}
  </div>

  <!-- Carrusel de propiedades -->
  <div class="d-flex justify-content-between align-items-center mb-4">
  <h1 class="mb-0">Properties Available</h1>
  <a href="{% url 'buscar_propiedades' %}" class="text-dark d-flex align-items-center" style="text-decoration: none;">
    <i class="bi bi-eye me-1"></i> View All
  </a>
</div>

  {% if propiedades %}
  <div id="carouselPropiedades" class="carousel slide" data-bs-ride="carousel">
    <div class="carousel-inner">

  {% for propiedad in propiedades %}
  {% if forloop.counter0|divisibleby:4 %}
  <div class="carousel-item {% if forloop.first %}active{% endif %}">
    <div class="row justify-content-center">
  {% endif %}

      {% include "properties/partials/property_card.html" %}

  {% if forloop.counter|divisibleby:4 or forloop.last %}
    </div>
  </div>
  {% endif %}
{% endfor %}

    </div>

    <!-- Controles carrusel -->
    <button class="carousel-control-prev" type="button" data-bs-target="#carouselPropiedades" data-bs-slide="prev" style="left:-100px;">
      <span class="carousel-control-prev-icon"></span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#carouselPropiedades" data-bs-slide="next" style="right:-100px;">
      <span class="carousel-control-next-icon"></span>
    </button>
  </div>
  {% else %}
  <p class="text-center">No properties available.</p>
  {% endif %}

  {% if recent_props %}
  <hr class="my-5" />
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h2 class="mb-0">Recently viewed</h2>
  </div>
  <div class="row">
    {% for propiedad in recent_props %}
      {% include "properties/partials/property_card.html" %}
    {% endfor %}
  </div>
  {% endif %}
</section>
{% endblock %}
